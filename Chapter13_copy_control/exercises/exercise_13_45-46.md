# 📘 C++ Primer 练习题评价

## 📋 总体概览

| 题目       | 得分 | 评价摘要                                                              |
|------------|------|-----------------------------------------------------------------------|
| Exercise 13.45 | ⭐⭐⭐⭐ (4/5) | 核心概念理解正确，但表述不够严谨，const左值引用特例描述不准确。 |
| Exercise 13.46 | ⭐⭐⭐ (3/5) | 大部分判断正确，但 r3 的引用类型判断出现概念性错误。             |

---

## 🎯 逐题详细评价

### Exercise 13.45  
**原题：**  
> Distinguish between an rvalue reference and an lvalue reference.

**你的答案：**  
> 左值引用是只能绑定左值，左值就是在程序中可以寻址的内存，也就是程序中的变量  
> 而右值只能绑定右值，右值就是无法寻址的内存，也就是临时变量比如字面值等  
> 一个例外是const 的左值时可以绑定右值的  

**批改结果：** ⭐⭐⭐⭐ (4/5)  
- **概念理解：** ✅ 准确抓住了左值引用与右值引用最本质的区别——绑定对象的类别（左值/右值）。  
- **代码质量：** （本题目为概念题，不涉及代码）  
- **逻辑完整：** ⚠️ 对 const 左值引用特例的描述不够精确，容易引起误解。  
- **表达清晰：** ⚠️ 部分术语使用口语化（如“寻址的内存”“左值时”），建议用更标准的C++术语表述。

**详细分析：**  
- ✅ 正确区分了左值与右值的本质：左值有持久身份（可寻址），右值为临时对象或字面量。  
- ✅ 正确指出了右值引用只能绑定右值。  
- ✅ 注意到了 const 左值引用可以绑定右值这一重要例外。  
- ⚠️ 对 const 左值引用特例的表述有偏差：“const 的左值时”应改为 **“const 左值引用（const T&）可以绑定右值”**。  
- ⚠️ 将“内存”直接等同于“左值”不准确，左值是表达式的一种类别，并非物理内存。  

**正确答案：**  
左值引用（`T&`）通常只能绑定到左值；右值引用（`T&&`）只能绑定到右值。  
但存在一个重要例外：**const 左值引用（`const T&`）可以绑定到右值**，这是为了支持常量引用接收临时对象，常见于函数参数传递。  




---

### Exercise 13.46  
**原题：**  
```cpp
int f();
vector<int> vi(100);
int? r1 = f();
int? r2 = vi[0];
int? r3 = r1;
int? r4 = vi[0] * f();
```
> Which kind of reference can be bound to the following initializers?

**你的答案：**  
> f被值初始化为0  
> 同样vi也被值初始化， 100个0元素  
> r1是int &&的时候可以绑定  
> r2是int &的时候可以绑定  
> r3是int &&的时候可以绑定  
> r4是int &&的时候可以绑定  

**批改结果：** ⭐⭐⭐ (3/5)  
- **概念理解：** ⚠️ 对 r1、r2、r4 判断正确，但对 r3（变量 r1）的类别判断错误，导致 r3 引用类型判断错误。  
- **代码质量：** ✅ 没有语法错误。  
- **逻辑完整：** ⚠️ 答案未给出任何解释，仅列出结论；且对 f() 和 vi(100) 的额外说明不必要且不准确。  
- **表达清晰：** ✅ 结论清晰，但缺乏推理过程。

**详细分析：**  
- ✅ r1 = f()：`f()` 返回非引用类型的 int，是纯右值，只能绑定到右值引用或 const 左值引用。学生选择 `int&&` 是正确的。  
- ✅ r2 = vi[0]：`vi[0]` 返回 `vector<int>::reference`（实际上是 `int&`），是左值表达式，可以绑定到左值引用（`int&`）或 const 左值引用。学生选择 `int&` 是正确的。  
- ❌ r3 = r1：`r1` 是一个变量（尽管你可能意图将它声明为右值引用，但此时它作为已命名的变量，**表达式 r1 是左值**）。因此只能绑定到左值引用（`int&`）或 const 左值引用，**不能绑定到右值引用**。学生选择 `int&&` 是错误的。  
- ✅ r4 = vi[0] * f()：乘法运算产生一个 int 纯右值，可以绑定到右值引用或 const 左值引用。学生选择 `int&&` 是正确的。  

**正确答案：**  
```cpp
int &&r1 = f();          // f() 是纯右值，右值引用可绑定
int &r2 = vi[0];         // vi[0] 是左值，左值引用可绑定（也可用 const int&）
int &r3 = r1;            // r1 是左值（表达式），左值引用可绑定（也可用 const int&）
int &&r4 = vi[0] * f();  // vi[0]*f() 是纯右值，右值引用可绑定
```
**注意：** 对于 r2 和 r3，`const int&` 也是合法绑定，但题目通常期望最直接的引用类型（左值引用对应左值，右值引用对应右值）。  




---


