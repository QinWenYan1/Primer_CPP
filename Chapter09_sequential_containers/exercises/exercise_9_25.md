## 📊 练习批改与分析

### Exercise 9.25: vector::erase 的边界行为

**原题：** 在349页删除元素范围的程序中，如果 elem1 和 elem2 相等会发生什么？如果 elem2 或 elem1 和 elem2 都是 off-the-end 迭代器会发生什么？

**你的答案：**  
如果 elem1 和 elem2 相等的话，因为是左闭右开的就不会有任何元素被 remove 同时还返回指向 elem2 的迭代器。  
两个都越界了的话，对容器本身不会造成影响，但是 out-of-range 有未定义行为。

**批改：** ⭐⭐⭐ 3/5  
基本思路正确，但对**未定义行为(UB)** 的理解存在关键性错误，表述不够准确。

**详细分析：**
- ✅ **第一个问题理解正确**：当 elem1 == elem2 时，确实不会删除任何元素，并返回 elem2，符合左闭右开区间规则
- ❌ **第二个问题理解错误**：你说"对容器本身不会造成影响"是**严重错误的理解**。任何无效迭代器传递给 erase 都会导致**未定义行为**，程序可能崩溃，标准不保证任何结果
- ⚠️ **概念混淆**：未区分"elem2 是 end()"和"两者都是 end()"都是 UB，且后果不是"不会造成影响"而是"程序行为不可预知"

**正确答案：**
1. **elem1 == elem2**：删除空范围，返回 elem2，容器不变（**非 UB**）
2. **elem2 是 end()**：**未定义行为**(UB)，即使 elem1 有效
3. **两者都是 end()**：**未定义行为**(UB)

```cpp
// 标准规定：
// erase(first, last) 要求 [first, last) 必须是容器中的有效范围
// 任何无效的迭代器都是 UB，不是"没影响"
```

