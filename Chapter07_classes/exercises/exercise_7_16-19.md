# ğŸ“˜ ç»ƒä¹ é¢˜ç¬”è®° 7.16-7.19

> æ¥æºè¯´æ˜ï¼šC++ Primer ç¬¬7ç« ç»ƒä¹ é¢˜ | æœ¬èŠ‚æ¶µç›–ï¼šè®¿é—®æ§åˆ¶ã€å°è£…æ¦‚å¿µå’Œç±»è®¾è®¡å®è·µ

---

## ğŸ“ Exercise 7.16: è®¿é—®è¯´æ˜ç¬¦çº¦æŸ

**åŸé¢˜ï¼š** What, if any, are the constraints on where and how often an access specifier may appear inside a class definition? What kinds of members should be defined after a public specifier? What kinds should be private?

### ä½ çš„ç­”æ¡ˆï¼š
> "æœ€å¥½ä¸€ä¸ªç±»é‡Œé¢å‡ºç°2æ¬¡ä»¥ä¸‹ï¼Œä¸€æ¬¡ç»™æˆå‘˜å‡½æ•°ï¼Œä¸€æ¬¡ç»™æˆå‘˜æ•°æ®ã€‚ç»™æˆå‘˜æ•°æ®çš„publicå’Œprivateå…ˆå‡ºç°ï¼Œç„¶åå†æ˜¯ç»™æˆå‘˜å‡½æ•°çš„publicå’Œprivate
> 
> æ”¾åœ¨publicåé¢çš„åº”è¯¥æ˜¯å¯¹å¤–çš„æ¥å£å‡½æ•°ï¼Œä½¿ç”¨è€…åº”è¯¥é€šè¿‡æ¥å£æ¥æ”¹åŠ¨å®ä¾‹æ•°æ®æˆ–çŠ¶æ€
> 
> æ”¾åœ¨privateåé¢çš„åº”è¯¥æ˜¯å†…éƒ¨ä½¿ç”¨çš„å‡½æ•°ï¼Œä»¥åŠæ‰€æœ‰æˆå‘˜æ•°æ®ï¼Œè¿™äº›åªèƒ½åœ¨å†…éƒ¨è°ƒç”¨ï¼Œä¸å¸Œæœ›è¢«ä½¿ç”¨è€…çœ‹åˆ°æˆ–è€…æ— æ„ä¸­ä½¿ç”¨åˆ°çš„ï¼Œéƒ½æ”¾åœ¨private"

### âœ… ä¿®æ­£ä¸å®Œæ•´ç­”æ¡ˆï¼š

**è®¿é—®è¯´æ˜ç¬¦çº¦æŸï¼š**
- âŒ **é”™è¯¯ç†è§£**ï¼šè®¤ä¸º"æœ€å¥½å‡ºç°2æ¬¡ä»¥ä¸‹"
- âœ… **æ­£ç¡®ç†è§£**ï¼šè®¿é—®è¯´æ˜ç¬¦å¯ä»¥å‡ºç°ä»»æ„å¤šæ¬¡ï¼Œæ²¡æœ‰é™åˆ¶ã€‚æ•™ææ˜ç¡®è¯´"there are no restrictions on how often an access specifier may appear"

**æˆå‘˜åˆ†ç±»åŸåˆ™ï¼š**
- âœ… **publicæˆå‘˜**ï¼šç±»çš„æ¥å£éƒ¨åˆ†
  - æ„é€ å‡½æ•°
  - è·å–å’Œä¿®æ”¹å¯¹è±¡çŠ¶æ€çš„æˆå‘˜å‡½æ•°
  - å…¶ä»–å¯¹å¤–æœåŠ¡å‡½æ•°
- âœ… **privateæˆå‘˜**ï¼šç±»çš„å®ç°ç»†èŠ‚
  - æ‰€æœ‰æ•°æ®æˆå‘˜ï¼ˆå®ç°å°è£…ï¼‰
  - å†…éƒ¨è¾…åŠ©å‡½æ•°
  - ä¸å¸Œæœ›ç”¨æˆ·ç›´æ¥è®¿é—®çš„ä»»ä½•å†…å®¹


---

## ğŸ“ Exercise 7.17: classä¸structåŒºåˆ«

**åŸé¢˜ï¼š** What, if any, are the differences between using class or struct?

### ä½ çš„ç­”æ¡ˆï¼š
> "åªæœ‰ä¸€ä¸ªåŒºåˆ«ï¼Œé‚£å°±æ˜¯é»˜è®¤è®¿é—®ï¼Œclassé»˜è®¤æ˜¯private, structé»˜è®¤æ˜¯public"

### âœ… å®Œæ•´ç­”æ¡ˆï¼š

**æŠ€æœ¯åŒºåˆ«ï¼š**
- âœ… **å”¯ä¸€åŒºåˆ«**ï¼šé»˜è®¤è®¿é—®çº§åˆ«ä¸åŒ
  - `class`ï¼šç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦å‰çš„æˆå‘˜é»˜è®¤ä¸º**private**
  - `struct`ï¼šç¬¬ä¸€ä¸ªè®¿é—®è¯´æ˜ç¬¦å‰çš„æˆå‘˜é»˜è®¤ä¸º**public**


**é€‰æ‹©åŸåˆ™ï¼š**
- ä½¿ç”¨`struct`ï¼šæ‰€æœ‰æˆå‘˜éƒ½æ˜¯publicçš„ç®€å•æ•°æ®å®¹å™¨
- ä½¿ç”¨`class`ï¼šéœ€è¦æ•°æ®å°è£…å’Œè¡Œä¸ºæ§åˆ¶çš„å¤æ‚ç±»å‹

---

## ğŸ“ Exercise 7.18: å°è£…æ¦‚å¿µ

**åŸé¢˜ï¼š** What is encapsulation? Why is it useful?

### ä½ çš„ç­”æ¡ˆï¼š
> "å°è£…å°±æ˜¯å°†ä¸å¿…è¦çš„æˆå‘˜æ•°æ®å’Œæ¥å£ä¸æš´éœ²åœ¨å¤–ç»™ä½¿ç”¨è€…æ— æ„ä½¿ç”¨åˆ°é€ æˆä¸å¿…è¦çš„æ”¹åŠ¨"

### âœ… ä¿®æ­£ä¸å®Œæ•´ç­”æ¡ˆï¼š

**å°è£…å®šä¹‰ï¼š**
- é€šè¿‡è®¿é—®æ§åˆ¶æœºåˆ¶éšè—ç±»çš„å®ç°ç»†èŠ‚
- åªæš´éœ²å¿…è¦çš„æ¥å£ç»™ç”¨æˆ·

**å°è£…çš„å¥½å¤„ï¼š**
1. **é˜²æ­¢æ„å¤–ç ´å**ï¼šç”¨æˆ·ä»£ç æ— æ³•ç›´æ¥ä¿®æ”¹å¯¹è±¡å†…éƒ¨çŠ¶æ€
2. **å®ç°çµæ´»æ€§**ï¼šç±»çš„å†…éƒ¨å®ç°å¯ä»¥æ”¹å˜è€Œä¸å½±å“ç”¨æˆ·ä»£ç 
3. **é”™è¯¯å®šä½**ï¼šbugæœç´¢èŒƒå›´å±€é™äºç±»å®ç°ä»£ç 
4. **ç»´æŠ¤ä¾¿åˆ©**ï¼šåªéœ€æ£€æŸ¥ç±»ä»£ç æ¥è¯„ä¼°æ›´æ”¹å½±å“

---

## ğŸ“ Exercise 7.19: Personç±»è®¾è®¡

**åŸé¢˜ï¼š** Indicate which members of your Person class you would declare as public and which you would declare as private. Explain your choice.

### ä½ çš„ç­”æ¡ˆï¼š
> "æ‰€æœ‰çš„constructorä»¥åŠget_name, get_addressæ˜¯publicçš„æ„å¤–å…¶ä½™çš„éƒ½æ˜¯private, å› ä¸ºpublicçš„è¿™å‡ ä¸ªå‡½æ•°éƒ½æ˜¯æä¾›ç»™ç±»ä½¿ç”¨è€…çš„æ¥å£ï¼Œä»–ä»¬å¿…é¡»é€šè¿‡è¿™äº›å‡½æ•°æ¥æ”¹åŠ¨ç±»çš„çŠ¶æ€ï¼Œè€Œå…¶ä½™çš„éƒ½æ˜¯ä¸æƒ³ä½¿ç”¨è€…ä½¿ç”¨åˆ°çš„"

### âœ… å®Œæ•´ç­”æ¡ˆï¼š

**å½“å‰ä»£ç é—®é¢˜åˆ†æï¼š**
```cpp
struct Person {  // âŒ ä½¿ç”¨structï¼Œæ‰€æœ‰æˆå‘˜é»˜è®¤public
    // æ‰€æœ‰æˆå‘˜å½“å‰éƒ½æ˜¯publicçš„ï¼
    std::string name = "None";      // âŒ åº”è¯¥private
    std::string address = "None";   // âŒ åº”è¯¥private
};
```

**æ­£ç¡®çš„è®¿é—®æ§åˆ¶è®¾è®¡ï¼š**

```cpp
class Person {  // âœ… æ”¹ä¸ºclassï¼Œé»˜è®¤private
public:
    // âœ… PUBLIC: æ„é€ å’Œè®¿é—®æ¥å£
    Person() = default; 
    Person(std::string name);
    Person(std::string name, std::string address);
    Person(std::istream &);
    
    // è·å–ä¿¡æ¯çš„æ¥å£
    const std::string& get_name() const { return name; }
    const std::string& get_address() const { return address; } 

    // âœ… éœ€è¦å£°æ˜å‹å…ƒå‡½æ•°
    friend std::istream &read(std::istream &in, Person &people);
    friend std::ostream &print(std::ostream &out, const Person &people);

private:
    // âœ… PRIVATE: æ‰€æœ‰æ•°æ®æˆå‘˜
    std::string name = "None";
    std::string address = "None";
};
```

**è®¿é—®æ§åˆ¶åˆ†ç±»è¡¨ï¼š**

| æˆå‘˜ | è®¿é—®çº§åˆ« | ç†ç”± |
|------|----------|------|
| æ‰€æœ‰æ„é€ å‡½æ•° | public | ç”¨æˆ·éœ€è¦åˆ›å»ºå¯¹è±¡ |
| get_name() | public | è·å–ä¿¡æ¯çš„åªè¯»æ¥å£ |
| get_address() | public | è·å–ä¿¡æ¯çš„åªè¯»æ¥å£ |
| nameæ•°æ®æˆå‘˜ | private | é˜²æ­¢ç›´æ¥ä¿®æ”¹ï¼Œä¿æŒæ•°æ®å®Œæ•´æ€§ |
| addressæ•°æ®æˆå‘˜ | private | é˜²æ­¢ç›´æ¥ä¿®æ”¹ï¼Œä¿æŒæ•°æ®å®Œæ•´æ€§ |
| read()å‡½æ•° | friend | éœ€è¦è®¿é—®ç§æœ‰æ•°æ®æ¥åˆå§‹åŒ– |
| print()å‡½æ•° | friend | éœ€è¦è®¿é—®ç§æœ‰æ•°æ®æ¥è¾“å‡º |

**è®¾è®¡åŸåˆ™ä½“ç°ï¼š**
- **ä¿¡æ¯éšè—**ï¼šæ•°æ®æˆå‘˜å®Œå…¨éšè—åœ¨privateåŒºåŸŸ
- **æœ€å°æ¥å£**ï¼šåªæä¾›å¿…è¦çš„æ„é€ å‡½æ•°å’Œè®¿é—®å‡½æ•°
- **å°è£…å®Œæ•´æ€§**ï¼šé€šè¿‡å‹å…ƒæœºåˆ¶åœ¨å¿…è¦æ—¶æ‰“ç ´å°è£…ï¼Œä½†ä¿æŒæ§åˆ¶


**å°è£…å¥½å¤„è®°å¿†æ³•ï¼š**
*"é˜²ç ´åã€æ˜“ä¿®æ”¹ã€å¥½ç»´æŠ¤ã€å¿«å®šä½"*